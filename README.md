<img alt="UCU" src="https://www.ucu.edu.uy/plantillas/images/logo_ucu.svg" width="150"/>

### Universidad Cat√≥lica del Uruguay
## Facultad de Ingenier√≠a y Tecnolog√≠as
## Programaci√≥n II


# Desaf√≠o Git #1: Calculadora Colaborativa

## Objetivo
Crear una aplicaci√≥n de calculadora simple en C# donde cada estudiante del equipo contribuya con una operaci√≥n diferente (suma, resta, multiplicaci√≥n, divisi√≥n). Los estudiantes practicar√°n los siguientes comandos de Git: [clone](https://git-scm.com/docs/git-clone), [checkout](https://git-scm.com/docs/git-checkout), [pull](https://git-scm.com/docs/git-pull), [add](https://git-scm.com/docs/git-add), [commit](https://git-scm.com/docs/git-commit), [stash](https://git-scm.com/docs/git-stash) y [push](https://git-scm.com/docs/git-push).

## Pasos

1. **Crear un repositorio a partir de esta plantilla**

> Para trabajar en un proyecto en Git debes tener un repositorio. Puedes crear localmente un repositorio y luego subirlo a un servidor para que tus compa√±eros lo usen, o puedes clonar un repositorio compartido en un servidor; en este ejercicio usaremos esta √∫ltima opci√≥n, clonando este repositorio plantilla a tu propio repositorio.

- Todos los estudiantes leen todas estas instrucciones primero, luego <font color="red">**s√≥lo uno**</font> de ellos las ejecuta.
- <font color="red">**Uno**</font> de los estudiantes hace clic en el bot√≥n `Use this template` que aparece arriba a la derecha en esta p√°gina; luego hace clic en la opci√≥n `Create a new repository`.
- En el cuadro de texto `Repository name`, ese estudiante escribe un nombre para el repositorio -puede usar el que quiera, incluso el que te sugiere GitHub, mientras sea √∫nico en la organizaci√≥n-; no cambia ninguna otra opci√≥n.
- Ver√° en su navegador el nuevo repositorio, con este mismo contenido; contin√∫en con los pasos a continuaci√≥n.

2. **Clonar el Repositorio**

> Te recomendamos que elijas una carpeta -o que crees una nueva- para todos los repositorios del curso. Recuerda c√≥mo llegar a esa capeta desde la l√≠nea de comandos -puedes volver consultar [este documento](https://github.com/ucudal/PII_Comandos/blob/master/Consola.md) si fuera necesario-.

- **<font color="red">Cada</font>** estudiante abre una terminal y se ubica en la carpeta que eligieron para tener todos sus repositorios.
- Luego clona el repositorio en su m√°quina local con el siguiente comando:
    
  ```bash
  git clone <url-del-repositorio>
  ```

  > La \<url-del-repositorio\> es la direcci√≥n que aparece en el navegador luego del √∫ltimo de los pasos anteriores.

3. **Crear ramas para cada uno**

- Cada estudiante crea su propia rama para la operaci√≥n que va a implementar con el siguiente comando:

  ```bash
  git checkout -b <nombre-rama>
  ```

  > El <nombre-rama> corresponde a la operaci√≥n que cada estudiante va a implementar; es uno de los siguientes:
  > - feature-addition
  > - feature-subtraction
  > - feature-multiplication
  > - feature-division

  El comando `git checkout` crea una copia local del repositorio indicado en una carpeta cuyo nombre coincide con el del repositorio. Para moverte a esa carpeta, usa el siguiente comando:

  ```bash
  cd <nombre-repositorio>
  ```

  > El <nombre-repositorio> es el que hayan elegido en el paso 1. Puedes ver todas las carpetas en el directorio actual con los comandos `ls` ![macOS](https://img.shields.io/badge/macOS-000000?style=flat&logo=apple&logoColor=white) y ![linux](https://img.shields.io/badge/Linux-FCC624?style=flat&logo=linux&logoColor=black) o `dir` ![windows](https://img.shields.io/badge/Windows-0078D6?style=flat&logo=windows&logoColor=white).

4. **Implementar la operaci√≥n**

- Cada estudiante abre el repositorio en Rider con el siguiente comando:

  ```bash
  rider .
  ```

  > Noten que hay un punto, separado por un espacio, al final del comando.

  Rider les pedir√° que confirmen si quieren abrir el proyecto en esa carpeta; elijan la opci√≥n `Open`. Eventualmente, Rider tambi√©n les preguntar√° si es seguro abrir el proyecto; elijan la opci√≥n `Trust and Open`.

- Cada estudiante implementa su respectiva operaci√≥n en una nueva clase en C#, agregando el c√≥digo que aparece a continuaci√≥n <font color="red">**al final**</font> del archivo `Program.cs` que est√° en la carpeta `src` del proyecto.

  > Estar√°s agregando nuevas clases en un mismo archivo `Program.cs`; en el futuro, cada clase se agregar√° en su propio archivo `.cs` -cuyo nombre coincidir√° con el de la clase-, pero para este ejercicio todos agregar√°n sus clases en el mismo archivo. No te preocupes si no entiendes del todo el c√≥digo que est√°s usando, el objetivo es que experimentes c√≥mo es el desarrollo colaborativo -entre varios estudiantes- y concurrente -al mismo tiempo- en Git.

  Estudiante A (suma):
  ```csharp
  public class Suma
  {
     public static int Sumar(int a, int b)
     {
         return a + b;
     }
  }
  ```
  
  Estudiante B (resta):
  ```csharp
  public class Resta
  {
     public static int Restar(int a, int b)
     {
         return a - b;
     }
  }
  ```
  
  Estudiante C (multiplicaci√≥n):
  ```csharp
  public class Multiplicacion
  {
     public static int Multiplicar(int a, int b)
     {
         return a * b;
     }
  }
  ```
  
  Estudiante D (divisi√≥n):
  ```csharp
  public class Division
  {
     public static double Dividir(int a, int b)
     {
         return (double)a / b;
     }
  }
  ```

5. **Agregar y "comitear" los cambios**

> El verbo `comitear` no existe, pero los desarrolladores lo usamos igual y entre nosotros nos entendemos üòÄ.

- Despu√©s de implementar sus operaciones, los estudiantes agregan y comitean sus cambios con los siguientes comandos:

  ```bash
  git add .
  git commit -m "Implementaci√≥n de la operaci√≥n <nombre de la operaci√≥n>"
  ```
  
  > Puedes ejecutar estos comandos en la terminal que ven√≠as usando. Rider incluye tambi√©n una terminal a la que puedes acceder con el comando `View | Tool Windows | Terminal` o mediante el √≠cono ![](https://intellij-icons.jetbrains.design/icons/TerminalIcons/icons/expui/toolwindow/terminal@20x20.svg) que aparece abajo a la izquierda.

6. **Guardar temporalmente los cambios**

Vamos a suponer que mientras est√°s realizando cambios en el repositorio, sin haber finalizado tu trabajo, debes hacer modificaciones sin perder los cambios que has hecho hasta el momento ‚Äîes decir, tienen que poder volver a recuperarlos‚Äî; como los cambios son temporales, tampoco quieres "comitearlos".

- Cada estudiante agrega la siguiente l√≠nea de comentario inmediatamente antes del c√≥digo que agregaron en el paso anterior:

    ```csharp
    // Esta clase implementa la operaci√≥n <nombre-operaci√≥n>
    ```

    > Reemplaza <nombre-operaci√≥n> seg√∫n corresponda
    
    Por ejemplo, para la operaci√≥n de la resta, el c√≥digo deber√≠a quedar as√≠:
    
    ```csharp
    // Esta clase implementa la operaci√≥n resta
    public class Resta
    {
        public static int Restar(int a, int b)
        {
            return a - b;
        }
    }
    ```

- Guarda estos cambios temporalmente, sin "comitearlos", para poder realizar otras modificaciones.

  ```bash
  git stash
  ```
  
  El c√≥digo vuelva a quedar como estaba luego de ejecutar el comando `git commit` en el paso 5.


- Ejecuta el siguiente comando para volver al c√≥digo que ten√≠as al comienzo de este paso:

  ```bash
  git stash pop
  ```

7. **Enviar los cambios**

Hasta ahora estuvieron trabajando en la copia local del repositorio, es necesario enviar los cambios al repositorio que est√° en el servidor.

- Cada estudiante agrega y "comitea" los √∫ltimos cambios ‚Äîel comentario que agregaron en el paso anterior-:

  ```bash
  git add .
  git commit -m "Comentario agregado"
  ```

  > Noten que hay un espacio, seguido de un punto, al final del comando `add`.

- Cada estudiante env√≠a sus cambios al repositorio remoto.

  ```bash
  git push origin <nombre-rama>
  ```

  > El <nombre-rama> es el que usaron antes; uno de los siguientes:
  > - feature-addition
  > - feature-subtraction
  > - feature-multiplication
  > - feature-division

  Deber√≠as ver varios mensajes, similares, aunque no necesariamente iguales, a los siguientes:

  ```bash
  Enumerating objects: 14, done.
  Counting objects: 100% (14/14), done.
  Delta compression using up to 8 threads
  Compressing objects: 100% (8/8), done.
  Writing objects: 100% (10/10), 931 bytes | 931.00 KiB/s, done.
  Total 10 (delta 3), reused 0 (delta 0), pack-reused 0 (from 0)
  ...
  ```

8. **Obtener cambios y "mergear"**

> El verbo mergear tampoco existe, pero al igual que sucede con comitear, los desarrolladores lo usamos y nos entendemos entre nosotros üòÄ.

Ahora lleg√≥ el momento de "mergear" ‚Äîcombinar‚Äî los cambios en las ramas de trabajo con la rama principal. Antes de "mergear" sus cambios deben obtener los cambios de los compa√±eros. Dependiendo del orden en el que hagan el trabajo, puede haber conflictos, que deber√°n resolver.

- Antes de "mergear" sus ramas, cada estudiante debe obtener los √∫ltimos cambios de la rama `main`.

  ```bash
  git checkout master
  git pull
  ```
  
  - Luego "mergea" los cambios de su rama con los de la rama `main`, ejecutando el siguiente comando:

    ```bash
    git merge <nombre-rama>
    git push
    ```
  
  >   El <nombre-rama> es el que usaron antes; uno de los siguientes:
  >   - feature-addition
  >   - feature-subtraction
  >   - feature-multiplication
  >   - feature-division

    En caso de que haya conflictos, ver√°n un mensaje como el siguiente:
  
    ```bash
    Auto-merging src/Program/Program.cs
    CONFLICT (content): Merge conflict in src/Program/Program.cs
    Automatic merge failed; fix conflicts and then commit the result.
    ```
  
    El c√≥digo en `Program.cs` luce similar al que aparece a continuaci√≥n, con unos marcadores `<<<<<<<`, `=======`, y `>>>>>>>`:
  
    ```csharp
    namespace Ucu.Poo.GitChallenge;
  
    public static class Program
    {
      public static void Main()
      {
      Console.WriteLine(Suma.Sumar(1, 2));
      Console.WriteLine(Resta.Restar(3, 4));
      Console.WriteLine(Multiplicacion.Multiplicar(5, 6));
      Console.WriteLine(Division.Dividir(7, 8));
      }
    }
    <<<<<<< HEAD
    ‚ãØ
    =======
    ‚ãØ
    >>>>>>>
    ```
  
    Lo que est√° entre `<<<<<<<` y `=======` es lo que est√° en conflicto en la rama actual `main`; lo que est√° entre `=======` y `>>>>>>>` es lo que est√° en conflicto en la rama que est√°n "mergeando". Git no puede resolver el conflicto, deben hacerlo ustedes.
  
    En este caso, ambas modificaciones deben quedar en el archivo, por lo tanto, basta borrar los marcadores. En otros casos, la resoluci√≥n del conflicto ser√° diferente. En cualquier caso, el c√≥digo final no debe incluir los marcadores.
  
    Para terminar, "comiteen" y "pusheen" los cambios:
  
    ```bash
    git commit -m "Resoluci√≥n de conflictos"
    git push
    ```

## Ejemplo Final de C√≥digo

Despu√©s de "mergear" todas las contribuciones de los miembros del equipo, el programa deber√≠a verse m√°s o menos as√≠:

```csharp
namespace Ucu.Poo.GitChallenge;

public static class Program
{
    public static void Main()
    {
        Console.WriteLine(Suma.Sumar(1, 2));
        Console.WriteLine(Resta.Restar(3, 4));
        Console.WriteLine(Multiplicacion.Multiplicar(5, 6));
        Console.WriteLine(Division.Dividir(7, 8));
    }
}

public class Suma
{
    public static int Sumar(int a, int b)
    {
        return a + b;
    }
}

public class Resta
{
    public static int Restar(int a, int b)
    {
        return a - b;
    }
}

public class Multiplicacion
{
    public static int Multiplicar(int a, int b)
    {
        return a * b;
    }
}

public class Division
{
    public static double Dividir(int a, int b)
    {
        return (double)a / b;
    }
}
```
